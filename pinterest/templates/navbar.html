{% load static %}
<nav class="navbar navbar-expand-lg navbar-light pinterest-navbar shadow-sm">
  <div class="container-fluid">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
      <img
        src="{% static 'images/pinterest.png' %}"
        alt="Logo"
        width="38"
        height="38"
        class="logo-img me-2"
      />
    </a>

    <!-- Botão para mobile -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse align-items-center" id="navbarSupportedContent">

      <!-- Barra de pesquisa central -->
      <form class="d-flex mx-auto search-bar" role="search">
        <input
          class="form-control me-2 search-input"
          type="search"
          placeholder="Pesquisar"
          aria-label="Search"
        />
      </form>

      <!-- Links à esquerda (Inspire-se, etc.) -->
      <ul class="navbar-nav mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link text-dark fw-semibold hover-link" href="{% url 'profile_list' %}">
            Inspire-se
          </a>
        </li>

        {% if user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link text-dark fw-semibold hover-link" href="{% url 'logout' %}">
            Sair
          </a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link text-dark fw-semibold hover-link" href="{% url 'register' %}">
            Register
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-dark fw-semibold hover-link" href="{% url 'login' %}">
            Login
          </a>
        </li>
        {% endif %}
      </ul>

      <!-- Avatar do usuário à direita -->
      {% if user.is_authenticated %}
      <ul class="navbar-nav ms-3">
        <li class="nav-item d-flex align-items-center">
          <a href="{% url 'profile' request.user.id %}" class="d-flex align-items-center text-decoration-none">
            {% if user.profile.profile_image %}
            <img
              src="{{ user.profile.profile_image.url }}"
              class="rounded-circle profile-avatar"
              width="42"
              height="42"
              alt="Profile Image"
            />
            {% else %}
            <img
              src="{% static 'images/pessoa.png' %}"
              class="rounded-circle profile-avatar"
              width="42"
              height="42"
              alt="Profile Image"
            />
            {% endif %}
          </a>
        </li>
      </ul>
      {% endif %}

    </div>
  </div>
</nav>
